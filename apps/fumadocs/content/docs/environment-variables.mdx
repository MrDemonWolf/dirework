---
title: Environment Variables
description: All environment variables used by Dirework
---

All environment variables are defined in `apps/web/.env`. The app validates them at startup using [t3-env](https://env.t3.gg/).

## Required Variables

| Variable | Description |
| --- | --- |
| `DATABASE_URL` | PostgreSQL connection string |
| `BETTER_AUTH_SECRET` | Secret key for Better Auth session encryption (min 32 characters) |
| `BETTER_AUTH_URL` | Full URL of the web app (e.g. `http://localhost:3001`) |
| `CORS_ORIGIN` | Allowed CORS origin, typically the same as `BETTER_AUTH_URL` |
| `TWITCH_CLIENT_ID` | Twitch application client ID from [dev.twitch.tv](https://dev.twitch.tv/console/apps) |
| `TWITCH_CLIENT_SECRET` | Twitch application client secret |

## Optional Variables

| Variable | Default | Description |
| --- | --- | --- |
| `ALLOWED_TWITCH_IDS` | `""` (allow all) | Comma-separated list of Twitch user IDs allowed to sign in. Leave empty to allow any Twitch user. |
| `NODE_ENV` | `"development"` | Set to `"production"` for production deployments |

## Example `.env`

```bash
# Database
DATABASE_URL="postgresql://postgres:password@localhost:5432/dirework"

# Better Auth
BETTER_AUTH_SECRET="<your-secret-here>"
BETTER_AUTH_URL="http://localhost:3001"
CORS_ORIGIN="http://localhost:3001"

# Twitch OAuth (from dev.twitch.tv)
TWITCH_CLIENT_ID="your_client_id_here"
TWITCH_CLIENT_SECRET="your_client_secret_here"

# User allowlist (comma-separated Twitch user IDs, empty = allow all)
ALLOWED_TWITCH_IDS=""
```

## Production Notes

For production deployments:

- Generate a strong `BETTER_AUTH_SECRET` with `openssl rand -base64 32`
- Set `BETTER_AUTH_URL` and `CORS_ORIGIN` to your public domain (e.g. `https://dirework.example.com`)
- Use a production PostgreSQL instance instead of the Docker development database
- Update the Twitch OAuth redirect URLs to match your production domain (see [Twitch OAuth Setup](/docs/twitch-oauth))
